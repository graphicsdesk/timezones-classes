{"version":3,"sources":["scripts/scrolly.js"],"names":["background","d3","select","step","selectAll","scroller","scrollama","handleResize","stepHeight","Math","floor","window","innerHeight","style","backgroundHeight","backgroundMarginTop","resize","handleStepEnter","response","element","classList","add","handleStepExit","direction","remove","stepupStickyfill","each","Stickyfill","init","setup","offset","debug","onStepEnter","onStepExit","addEventListener"],"mappings":";AAAA,IAAIA,EAAaC,GAAGC,OAAO,eACvBC,EAAOF,GAAGG,UAAU,SAEpBC,EAAWC,YAEf,SAASC,IAEDC,IAAAA,EAAaC,KAAKC,MAA2B,IAArBC,OAAOC,aACnCT,EAAKU,MAAM,SAAUL,EAAa,MAE9BM,IAAAA,EAAmBH,OAAOC,YAAc,EACxCG,GAAuBJ,OAAOC,YAAcE,GAAoB,EAEpEd,EACKa,MAAM,SAAUC,EAAmB,MACnCD,MAAM,MAAOE,EAAsB,MAGxCV,EAASW,SAGZ,SAASC,EAAgBC,GAEtBA,EAASC,QAAQC,UAAUC,IAAI,aAGlC,SAASC,EAAeJ,GAEI,MAAtBA,EAASK,WACRL,EAASC,QAAQC,UAAUI,OAAO,aAI1C,SAASC,IACLxB,GAAGG,UAAU,WAAWsB,KAAK,WACzBC,WAAWN,IAAI,QAIvB,SAASO,IACLH,IACAlB,IAEAF,EACKwB,MAAM,CACH1B,KAAM,gCACN2B,OAAQ,IACRC,OAAO,IAEVC,YAAYf,GACZgB,WAAWX,GAEhBX,OAAOuB,iBAAiB,SAAU3B,GAItCqB","file":"scrolly.cae3330b.js","sourceRoot":"../src","sourcesContent":["var background = d3.select(\"#background\");\r\nvar step = d3.selectAll(\".step\");\r\n\r\nvar scroller = scrollama();\r\n\r\nfunction handleResize() {\r\n    //update height of steps\r\n    var stepHeight = Math.floor(window.innerHeight * 0.75);\r\n    step.style(\"height\", stepHeight + \"px\");\r\n\r\n    var backgroundHeight = window.innerHeight / 2;\r\n    var backgroundMarginTop = (window.innerHeight - backgroundHeight) / 6;\r\n\r\n    background\r\n        .style(\"height\", backgroundHeight + \"px\")\r\n        .style(\"top\", backgroundMarginTop + \"px\");\r\n\r\n    //update new element dimensions\r\n    scroller.resize();\r\n}\r\n\r\n function handleStepEnter(response) {\r\n    // add to color to current step\r\n    response.element.classList.add(\"is-active\");\r\n}\r\n\r\n function handleStepExit(response) {\r\n    // add to color to current step\r\n   if (response.direction == \"up\") {\r\n        response.element.classList.remove(\"is-active\");\r\n   }\r\n}\r\n\r\nfunction stepupStickyfill() {\r\n    d3.selectAll(\".sticky\").each(function () {\r\n        Stickyfill.add(this);\r\n    })\r\n}\r\n\r\nfunction init() {\r\n    stepupStickyfill();\r\n    handleResize();\r\n\r\n    scroller\r\n        .setup({\r\n            step: \"#g-lede-final-final-box .step\",\r\n            offset: 0.75,\r\n            debug: false\r\n        })\r\n        .onStepEnter(handleStepEnter)\r\n        .onStepExit(handleStepExit);\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n}\r\n\r\n//light em up\r\ninit();\r\n"]}